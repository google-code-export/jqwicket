#labels Featured
===Drag'n'Drop example with JQWicket.===

More or less complex Drag'n'Drop example build with JQWicket.

*Java-Code:*
{{{
public class DNDPage extends WebPage {

	private static final Map<String, String> labels = new MapBuilder<String, String>()
			.add("lolcatShirt", "Lolcat Shirt")
			.add("cheezeburgerShirt", "Cheezeburger Shirt")
			.add("buckitShirt", "Buckit Shirt")
			.add("zebraStriped", "Zebra Striped")
			.add("blackLeather", "Black Leather")
			.add("alligatorLeather", "Alligator Leather").build();

	public DNDPage() {

		// Create accordion containing dummy products
		AccordionWebMarkupContainer accordion = new AccordionWebMarkupContainer(				"catalog");
		for (Map.Entry<String, String> e : labels.entrySet()) {
			accordion.add(new Label(e.getKey(), e.getValue())
					.add(JQBehaviors.draggable(new DraggableOptions().appendTo(
							"body").helper("clone"))));
		} 
		add(accordion);

		
		// Create shopping cart webmarkup container
		WebMarkupContainer cartContainer = new WebMarkupContainer(				"cartContainer");
		add(cartContainer);

		// added ajax behavior to the shopping cart that responds to the page with simple javascript alert 
		final AbstractDefaultAjaxBehavior behave = new AbstractDefaultAjaxBehavior() {
			private static final long serialVersionUID = 1L;

			@Override
			protected void respond(AjaxRequestTarget target) {
				String product = RequestCycle.get().getRequest()						.getParameter("product");
				if (Utils.isNotBlank(product))
					target.appendJavascript("alert('product \"" + product
							+ "\" added on the serverside!')");
			}
		};
		cartContainer.add(behave);
		
		// make shopping cart container droppable 
		// and implement onDropEvent to send the ajax request to the shopping cart! 
		cartContainer.add(JQBehaviors.droppable(new DroppableOptions()
				.activeClass("ui-state-default")
				.hoverClass("ui-state-hover")
				.accept(":not(.ui-sortable-helper)")
				.dropEvent($f(
						$this().find(".placeholder").remove(),
						$("<li></li>").text("ui.draggable.text()").appendTo("this"),
						wicketAjaxGet(behave, new MapBuilder<String, Object>()
								.add("product",js("ui.draggable.text()")).build()), 
								"event", "ui"))
		));

	}
}
}}}

*HTML-Template:*
{{{
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:wicket="http://wicket.apache.org/" xml:lang="en" lang="en">
<head>
<title>DND example</title>
<style type="text/css">
body {
	margin: 10px;
	padding: 0 0 20px;
	min-height: 100%;
	font-family: "Arial", "Helvetica", "Verdana", "sans-serif";
	font-size: 10px;
}
</style>
</head>
<body>
<div class="demo"> 
<div id="products" style="width: 550px;">
	<h1 class="ui-widget-header">Products</h1>	
	<div wicket:id="catalog">
		<h3><a href="#">T-Shirts</a></h3>
		<div>
			<ul>
				<li><span wicket:id="lolcatShirt" /></li>
				<li><span wicket:id="cheezeburgerShirt" /></li>
				<li><span wicket:id="buckitShirt" /></li>
			</ul>
		</div>
		<h3><a href="#">Bags</a></h3>
		<div>
			<ul>
				<li><span wicket:id="zebraStriped" /></li>
				<li><span wicket:id="blackLeather" /></li>
				<li><span wicket:id="alligatorLeather" /></li>
			</ul>
		</div>
	</div>
</div>

<div id="cart" style="width: 550px;">
	<h1 class="ui-widget-header">Shopping Cart</h1>
	<div class="ui-widget-content">
		<ol wicket:id="cartContainer">
			<li class="placeholder">Add your items here</li>
		</ol>
	</div>
</div>
</div>
</body>
</html>
}}}


*Rendered HTML-Code:*
{{{
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>DND example</title>
<style type="text/css">
body {
	margin: 10px;
	padding: 0 0 20px;
	min-height: 100%;
	font-family: "Arial", "Helvetica", "Verdana", "sans-serif";
	font-size: 10px;
}
</style>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.6/jquery-ui.min.js"></script>
<link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.6/themes/base/jquery-ui.css" />
<script type="text/javascript" id="28032dc9-92dd-4f5c-8bc1-388ea89e66f0"><!--/*--><![CDATA[/*><!--*/
$(document).ready(function(){$('#catalog1').accordion({});
$('#alligatorLeather2').draggable({appendTo:'body', helper:'clone'});
$('#cheezeburgerShirt3').draggable({appendTo:'body', helper:'clone'});
$('#buckitShirt4').draggable({appendTo:'body', helper:'clone'});
$('#blackLeather5').draggable({appendTo:'body', helper:'clone'});
$('#zebraStriped6').draggable({appendTo:'body', helper:'clone'});
$('#lolcatShirt7').draggable({appendTo:'body', helper:'clone'});
$('#cartContainer8').droppable({activeClass:'ui-state-default', hoverClass:'ui-state-hover', accept:':not(.ui-sortable-helper)', drop:function(event,ui){$(this).find('.placeholder').remove();
$('<li></li>').text(ui.draggable.text()).appendTo(this);
wicketAjaxGet('?wicket:interface=:0:cartContainer::IActivePageBehaviorListener:0:&wicket:ignoreIfNotActive=true&product='+ui.draggable.text()+'', function(){}, function(){});}});});
/*-->]]>*/</script>

<script type="text/javascript" src="resources/org.apache.wicket.markup.html.WicketEventReference/wicket-event.js"></script>

<script type="text/javascript" src="resources/org.apache.wicket.ajax.WicketAjaxReference/wicket-ajax.js"></script>
<script type="text/javascript" src="resources/org.apache.wicket.ajax.AbstractDefaultAjaxBehavior/wicket-ajax-debug.js"></script>
<script type="text/javascript" id="wicket-ajax-debug-enable"><!--/*--><![CDATA[/*><!--*/
wicketAjaxDebugEnable=true;
/*-->]]>*/</script>

</head>
<body>

<div class="demo"> 

<div id="products" style="width: 550px;">
	<h1 class="ui-widget-header">Products</h1>	
	<div id="catalog1">
		<h3><a href="#">T-Shirts</a></h3>

		<div>
			<ul>
				<li><span id="lolcatShirt7">Lolcat Shirt</span></li>
				<li><span id="cheezeburgerShirt3">Cheezeburger Shirt</span></li>
				<li><span id="buckitShirt4">Buckit Shirt</span></li>
			</ul>
		</div>

		<h3><a href="#">Bags</a></h3>
		<div>
			<ul>
				<li><span id="zebraStriped6">Zebra Striped</span></li>
				<li><span id="blackLeather5">Black Leather</span></li>
				<li><span id="alligatorLeather2">Alligator Leather</span></li>
			</ul>

		</div>
	</div>
</div>

<div id="cart" style="width: 550px;">
	<h1 class="ui-widget-header">Shopping Cart</h1>
	<div class="ui-widget-content">
		<ol id="cartContainer8">
			<li class="placeholder">Add your items here</li>

		</ol>
	</div>
</div>


</div>

</body>
</html>
}}}